---
layout: default
title: Home
description: "胡涂说: 一个充满好奇心的人记录学习与思考、探索技术与人文思想交汇的数字花园"
---

{% if page.url == "/" %}

<!-- Featured
================================================== -->
{%- assign __all = site.posts | concat: site.weeklies -%}
{%- assign __featured = __all | where_exp: "p", "p.featured == true" -%}
{%- assign __count = __featured | size -%}

{%- if __count > 2 -%}
<section class="featured-posts">
  <div class="section-title d-flex align-items-center justify-content-between">
    <h2 class="m-0">
        <span>精选推荐</span>
        <a id="featured-refresh" class="text-muted small" href="javascript:void(0)">换一换</a>
    </h2>
    <a class="text-muted small" href="/archive/?t=featured&y=all">全部精选</a>
  </div>

  <div class="row" id="featured-random-mount" data-limit="2" data-lazy="{{ site.lazyimages | default: '' }}">
    {%- assign __sorted = __featured | sort: "date" | reverse -%}
    {%- for post in __sorted limit:2 -%}
      {% include featuredbox.html post=post %}
    {%- endfor -%}
  </div>

  <script id="featured-posts-data" type="application/json">
  [
  {%- for p in __featured -%}
    {%- assign _img = '' -%}
    {%- if p.image -%}
      {%- if p.image contains '://' -%}
        {%- assign _img = p.image -%}
      {%- else -%}
        {%- assign _img = site.images_baseurl | append: '/' | append: p.image -%}
      {%- endif -%}
    {%- endif -%}

    {%- assign _author = site.authors[p.author] -%}
    {
      "title": {{ p.title | jsonify }},
      "url": {{ p.url | relative_url | jsonify }},
      "date_to_string": {{ p.date | date_to_string | jsonify }},
      "content_excerpt": {{ p.content | strip_html | strip_newlines | truncate: 120, "..." | jsonify }},
      "image": {{ _img | jsonify }},
      "author": {
        "display_name": {{ _author.display_name | default: "" | jsonify }},
        "web": {{ _author.web | default: "" | jsonify }},
        "avatar": {{ _author.avatar | default: "" | jsonify }},
        "gravatar": {{ _author.gravatar | default: "" | jsonify }}
      },
      "rating": {{ p.rating | default: "" | jsonify }}
    }{%- unless forloop.last -%},{%- endunless -%}
  {%- endfor -%}
  ]
  </script>
</section>
{%- endif -%}

{% endif %}

<!-- Posts Index
================================================== -->
<section class="recent-posts">

    <div class="section-title d-flex align-items-center justify-content-between">

        <h2 class="m-0 d-flex align-items-baseline">
            <span>最新文章</span>
        </h2>
        
        <a class="text-muted small" href="/archive/?t=post&y=all">全部文章</a>
        
    </div>

    <div class="row listrecent">

        {% assign sorted_posts = site.posts | where_exp: "post", "post.featured != true" | sort: "date" | reverse %}
        {% for post in sorted_posts limit:3 %}
            {% include postbox.html post=post %}
        {% endfor %}

    </div>
    <!-- <div class="bottompagination">
        <a class="ml-1 mr-1" href="{{ site.posts_path }}">查看所有文章</a>        
    </div> -->

</section>


<!-- Weeklies Index
================================================== -->
<section class="recent-posts">

    <div class="section-title d-flex align-items-center justify-content-between">

        <h2 class="m-0 d-flex align-items-baseline">
            <span>最新周刊</span>
        </h2>

        <a class="text-muted small" href="/archive/?t=weekly&y=all">全部周刊</a>

    </div>

    <div class="row listrecent">

        {% assign sorted_posts = site.weeklies | where_exp: "post", "post.featured != true" | sort: "date" | reverse %}
        {% for post in sorted_posts limit:3 %}
            {% include postbox.html post=post %}
        {% endfor %}

    </div>

</section>


<!-- Pagination
================================================== -->
<!-- <div class="bottompagination">
<div class="pointerup"><i class="fa fa-caret-up"></i></div>
<span class="navigation" role="navigation">
    {% include pagination.html %}
</span>
</div> -->

